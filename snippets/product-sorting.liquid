{{ 'snippet--collection-sorting.css' | asset_url | stylesheet_tag }}


<div class="product-sorting">


  <div class="sorting-title">
    {% comment %} Filters {% endcomment %}
    <div class="filter-title">
      <span>{{ 'Filters' | escape }}</span>
      <div class="active-filters">
        <ul>

          <li class="clear-all">
            <a href="{{ collection.url }}?sort_by={{ collection.sort_by }}" class="active-filters__clear">Clear all</a>
          </li>

          {%- for filter in collection.filters -%}
              {%- if filter.type == "price_range" -%}
                {%- if filter.min_value.value != nil or filter.max_value.value != nil -%}
                    <li class="active-filters__remove-filter">
                        {%- assign min_value = filter.min_value.value | default: 0 -%}
                        {%- assign max_value = filter.max_value.value | default: filter.range_max -%}
                        {{ min_value | money }} - {{ max_value | money }} <span class="icon"><a href="{{ filter.url_to_remove }}" title="">&times;</a></span>
                    </li>
                {%- endif -%}
              {%- else -%}
                {%- for filter_value in filter.active_values -%}
                    <li class="active-filters__remove-filter" href="{{ filter_value.url_to_remove }}">
                      {{ filter_value.label }} <span class="icon"><a href="{{ filter.url_to_remove }}" title="">&times;</a></span>
                    </li>
                {%- endfor -%}
              {%- endif- %}
          {%- endfor -%}
          
        </ul>
      </div>
    </div>

    {% comment %} Search {% endcomment %}
    <div class="search-title">
      {{ 'Search' | escape }} {% render 'icon--search' %}
    </div>
  </div>

  <div class="sorting-wrapper">
    {% render 'sorting-radios' %}
    {% render 'product-filter-blocks' %}
    {% render 'artist-select' %}
  </div>

  <div class="search-wrapper">
    {% render 'searchbar' %}
  </div>
</div>



{% comment %}

  JavaScript for collection sorting.

{% endcomment %}
<script>
    jQuery('.sort-by').on('click', function() {
      
      Shopify.queryParams.sort_by = jQuery(this).attr('value');
      location.search = jQuery.param(Shopify.queryParams).replace(/\+/g, '%20');
    });
</script>